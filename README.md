# TaskRiot

**Revolt against procrastination. Consistency, not chaos.**

![Monkey Business](monkey_business.png)

*Image generated by Gemini AI.*

## Description

TaskRiot is a comprehensive task management application designed to help you organize your projects, track habits, manage queues, and analyze your productivity. Built with a focus on consistency and efficiency, it transforms chaotic task handling into structured, actionable workflows. Whether you're managing personal projects, tracking daily habits, or queuing tasks for better prioritization, TaskRiot empowers you to maintain control and achieve your goals.

Key features include:
- **Project Management**: Create and organize projects with hierarchical tasks.
- **Habit Tracking**: Monitor daily habits with heatmaps and statistics.
- **Task Queues**: Prioritize and manage task queues for optimal workflow.
- **Real-time Updates**: Live synchronization using WebSockets.
- **Statistics and Analytics**: Visualize your progress with charts and performance metrics.
- **Responsive UI**: Modern, intuitive interface built with React and Material-UI.

## Tech Stack

- **Backend**: Node.js with Express.js, SQLite database via Knex.js, Socket.io for real-time communication.
- **Frontend**: React with Vite, Material-UI for UI components, MobX for state management, Recharts for data visualization.
- **Other**: Day.js for date handling, UUID for unique identifiers.

## Installation

1. **Clone the repository**:
   ```bash
   git clone https://github.com/fsvieira/taskriot.git
   cd taskriot
   ```

2. **Install backend dependencies**:
   ```bash
   cd service
   npm install
   ```

3. **Install frontend dependencies**:
   ```bash
   cd ../web
   npm install
   ```

## Running the Application

1. **Start the backend server**:
   ```bash
   cd service
   npm start
   ```
   The server will run on `http://localhost:3003` (or as configured).

2. **Start the frontend development server**:
   ```bash
   cd web
   npm run dev
   ```
   The app will be available at `http://localhost:5173` (default Vite port).

3. **For production**:
   - Backend: `npm run prod` (runs on port 3003).
   - Frontend: `npm run build` then `npm run prod` (serves on port 3002).

## Usage

- Open your browser and navigate to the frontend URL.
- Create projects, add tasks, track habits, and monitor your progress through the dashboard.
- Use the queue system to prioritize tasks and maintain workflow balance.

## Contributing

Contributions are welcome! Please fork the repository and submit a pull request with your changes.

## License

This project is licensed under the MIT License.
## Desktop App (Tauri v2 + Bun)

This project can run as a standalone desktop application using Tauri v2 and Bun (for the backend API). The SQLite database is stored in the OS application data directory, as configured in [service/knexfile.js](service/knexfile.js:1).

### Prerequisites

- Node.js 18+ and npm
- Rust toolchain (cargo) https://rustup.rs
- Bun runtime
  - curl -fsSL https://bun.sh/install | bash
  - Then ensure Bun is on your PATH: export PATH="$HOME/.bun/bin:$PATH"
- OS packages (Linux Ubuntu 24.04+)
  - sudo apt update
  - sudo apt install -y libwebkit2gtk-4.1-dev libjavascriptcoregtk-4.1-dev libsoup3-dev
  - Note: These satisfy WebKitGTK 4.1 which Tauri v2 uses on Ubuntu 24.04

### Development Run

In development you run the backend and the Tauri app separately.

1) Start the backend (Bun)
- export PATH="$HOME/.bun/bin:$PATH"
- cd service
- bun run start
- Server starts at http://localhost:3001 (see [service/src/index.js](service/src/index.js:39))

2) Start the desktop app (Tauri dev)
- cd web
- npm install
- npm run tauri:dev

Tauri dev will:
- Start Vite and serve the React UI (dev URL is configured in [web/src-tauri/tauri.conf.json](web/src-tauri/tauri.conf.json:1), default http://localhost:3005)
- Launch the native window and load the frontend from Vite

Ports and config:
- Vite dev server config is in [web/vite.config.js](web/vite.config.js:1-9). It honors PORT, defaults to 3000. In Tauri dev we pin it to 3005.
- Tauri dev config (devUrl, beforeDevCommand) is in [web/src-tauri/tauri.conf.json](web/src-tauri/tauri.conf.json:1) (Tauri v2 schema).

### Production Build (Desktop)

1) Build the frontend
- cd web
- npm install
- npm run build

2) Build the desktop bundles (installers/archives)
- cd web
- npm run tauri:build

Artifacts will be produced under:
- web/src-tauri/target/&lt;platform&gt;/bundle/

Note: The current setup runs the backend as a separate process (e.g., you can run it with Bun as shown above). If you want the Tauri app to spawn/manage the Bun server automatically on app launch and shut it down on exit, that can be added via Tauri v2â€™s process APIs in [web/src-tauri/src/main.rs](web/src-tauri/src/main.rs:11).

### Database Location

SQLite database is automatically placed under the OS application data folder (configured in [service/knexfile.js](service/knexfile.js:1)):

- Windows: %APPDATA%/taskriot/dev.sqlite3
- macOS: ~/Library/Application Support/taskriot/dev.sqlite3
- Linux: ~/.local/share/taskriot/dev.sqlite3

You can override with env var DATABASE_PATH.

### Troubleshooting

- Missing WebKitGTK libs on Linux: ensure these packages exist:
  - libwebkit2gtk-4.1-dev
  - libjavascriptcoregtk-4.1-dev
  - libsoup3-dev
- Version mismatches:
  - Tauri v2 requires @tauri-apps/api v2 and @tauri-apps/cli v2 in [web/package.json](web/package.json:1-40)
  - The Rust crate is tauri = "2" in [web/src-tauri/Cargo.toml](web/src-tauri/Cargo.toml:1-25)
- Port conflicts:
  - Tauri dev uses PORT=3005 for Vite. Stop other dev servers or change PORT as needed in [web/src-tauri/tauri.conf.json](web/src-tauri/tauri.conf.json:1) and [web/vite.config.js](web/vite.config.js:1-9)

### Commands Summary

- Backend (Bun)
  - export PATH="$HOME/.bun/bin:$PATH"
  - cd service
  - bun run start

- Desktop dev
  - cd web
  - npm run tauri:dev

- Desktop build
  - cd web
  - npm run build
  - npm run tauri:build